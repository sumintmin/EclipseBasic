package kr.or.ddit.homework.home14;

import java.sql.Connection;

import java.sql.ResultSet;
import java.sql.Statement;
import java.util.Scanner;

import kr.or.ddit.study06.sec06.Member;

public class DBMain {
	
	Connection conn;
	Statement stmt;
	ResultSet rs;
	
	public static void main(String[] args) {
		DBMain db = new DBMain();
		db.selectAll();
	}
	
	Scanner sc = new Scanner(System.in);
	public Member[] selectAll() {
		Member[] memberList = null;
		try {
			
			conn = DBConn.getConnection();
			stmt = conn.createStatement();
			String sql = "SELECT * FROM MEMBER";
			
			rs = stmt.executeQuery(sql);
			
			// 취미랑 직업 중에서 선택하고
			// 취미 선택 후 -> 바둑 입력하면 바둑 취미인 사람만 출력
			// 직업 선택 후 -> 주부 입력하면 주부 직업인 사람만 출력
			
			Member mem = new Member();
			// scanutil에 값을 넣지 않으면 에러
			int sel = ScanUtil.nextInt("1. 취미 \n2. 직업");
			if(sel == 1) {
				String search = ScanUtil.nextLine("검색");
				String mlike = rs.getString("mem_like");
				String like_sql = sql + "WHERE mem_like =" + search;
				mem.setMem_like(mlike);
				System.out.println(mem);
			}
			if(sel == 2) {
				String search = ScanUtil.nextLine("검색");
				String mjob = rs.getString(search);
				mem.setMem_job(mjob);
				System.out.println(mem);
				
			}
			
			
		} catch (Exception e) {
			e.printStackTrace();
		}
		return memberList;
	}
}